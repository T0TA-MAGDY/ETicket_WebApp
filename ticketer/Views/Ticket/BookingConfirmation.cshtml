@model ticketer.Models.TicketOrder

@{
    ViewBag.Title = "Booking Confirmation";
}

<h2 style="text-align: center;">üéüÔ∏è Booking Confirmation</h2>

<div class="container">
    <h4>Booking Details</h4>
    <div>
        <p><strong>Order ID:</strong> @Model.Order_Id</p>
        <p><strong>Booking Date:</strong> @Model.BookingTime.ToString("yyyy-MM-dd HH:mm:ss")</p>
        <p><strong>Total Seats:</strong> @Model.Amount</p>
        <p><strong>Total Price:</strong> $@Model.TotalPrice</p>
        <p><strong>Payment Status:</strong> @Model.PaymentStatus</p>
    </div>

    <h4>Seats Booked</h4>
    <div>
        <table class="table">
            <thead>
                <tr>
                    <th>Seat No.</th>
                    <th>Row</th>
                    <th>Type</th>
                    <th>Price</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var ticket in Model.Tickets)
                {
                    <tr>
                        <td>@ticket.SeatNumber</td>
                        <td>@ticket.RowNumber</td>
                        <td>@ticket.SeatType</td>
                        <td>$@ticket.timing.Price</td>
                    </tr>
                }
            </tbody>
        </table>
    </div>

    <h4>Showtime Details</h4>
    <div>
        <p><strong>Movie:</strong> @Model.Tickets.FirstOrDefault()?.timing?.Showtime?.Movie?.Name</p>
        <p><strong>Cinema:</strong> @Model.Tickets.FirstOrDefault()?.timing?.Showtime?.Cinema?.Name</p>
        <p><strong>Date:</strong> @Model.Tickets.FirstOrDefault()?.timing?.Showtime?.Date.ToString("yyyy-MM-dd")</p>
        <p><strong>Time:</strong> @Model.Tickets.FirstOrDefault()?.timing?.StartTime.ToString("HH:mm")</p>
    </div>

    <div style="text-align: center; margin-top: 30px;">
        <a href="@Url.Action("Index", "Movie")" class="btn btn-primary">Back to Movie List</a>
        <a href="@Url.Action("Payment", "Ticket", new { orderId = Model.Order_Id })" class="btn btn-success">Proceed to Payment</a>
    </div>
</div>

<style>
    .container {
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
    }
    table {
        width: 100%;
        margin-top: 15px;
    }
    th, td {
        padding: 10px;
        text-align: left;
    }
    .btn {
        padding: 10px 25px;
        border-radius: 5px;
        margin: 5px;
    }
</style>
